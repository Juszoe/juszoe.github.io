(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{443:function(t,a,e){"use strict";e.r(a);var s=e(18),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",[t._v("给PC装的黑苹果，点击休眠之后会立刻被唤醒，然后又休眠，无限往复，以至于舍弃休眠功能")])]),t._v(" "),e("h2",{attrs:{id:"问题根源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题根源"}},[t._v("#")]),t._v(" 问题根源")]),t._v(" "),e("p",[t._v("先查看唤醒的原因，查找系统日志"),e("code",[t._v("kernel.log")])]),t._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("log show "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -i "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Wake reason"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("div",{staticClass:"language-log line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("kernel: (AppleACPIPlatform) AppleACPIPlatformPower Wake reason: GLAN XDCI\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("罪魁祸首就找到了，"),e("code",[t._v("GLAN XDCI")]),t._v("唤醒了系统，其实就是"),e("code",[t._v("usb prw")]),t._v("部分出现异常。\n解决方案很简单，修改DSDT的部分代码即可，也称为“打补丁”")]),t._v(" "),e("h2",{attrs:{id:"提取dsdt文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提取dsdt文件"}},[t._v("#")]),t._v(" 提取DSDT文件")]),t._v(" "),e("ol",[e("li",[t._v("启动系统，进入Clover界面，按"),e("code",[t._v("F4")]),t._v("，有些键盘需要配合"),e("code",[t._v("Fn")]),t._v("键。这时候也没有任何反应，直接进入系统即可")]),t._v(" "),e("li",[t._v("使用"),e("code",[t._v("Clover Configurator")]),t._v("将EFI分区挂载")]),t._v(" "),e("li",[t._v("打开文件夹"),e("code",[t._v("EFI/CLOVER/ACPI/orgin")]),t._v("，里面的"),e("code",[t._v("DSDT.aml")]),t._v("就是我们需要的文件，拷贝出来。")])]),t._v(" "),e("h2",{attrs:{id:"修改dsdt（打补丁）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改dsdt（打补丁）"}},[t._v("#")]),t._v(" 修改DSDT（打补丁）")]),t._v(" "),e("ol",[e("li",[t._v("下载"),e("a",{attrs:{href:"https://bitbucket.org/RehabMan/os-x-maciasl-patchmatic/downloads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MaciASL"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("用MaciASL打开"),e("code",[t._v("DSDT.aml")])]),t._v(" "),e("li",[t._v("复制我们需要的"),e("a",{attrs:{href:"https://github.com/RehabMan/Laptop-DSDT-Patch/blob/master/usb/usb_prw_0x0d_xhc_skl.txt",target:"_blank",rel:"noopener noreferrer"}},[t._v("补丁代码"),e("OutboundLink")],1)])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",[t._v("补丁代码根据自己情况进行选择")])]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("点击上方的"),e("code",[t._v("Patch")]),t._v("，粘贴代码，稍等几秒钟，会显示更改的内容")]),t._v(" "),e("li",[t._v("点击"),e("code",[t._v("Apply")]),t._v("代码就被更改了")]),t._v(" "),e("li",[t._v("点击"),e("code",[t._v("Compile")]),t._v("，编译通过，0 error，好多Warning不用管")]),t._v(" "),e("li",[t._v("退出保存，注意要以"),e("code",[t._v("Disassembled ASL File")]),t._v("的格式保存")])]),t._v(" "),e("h2",{attrs:{id:"注入dsdt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注入dsdt"}},[t._v("#")]),t._v(" 注入DSDT")]),t._v(" "),e("p",[t._v("打开文件夹"),e("code",[t._v("EFI/CLOVER/ACPI/patched")]),t._v("，将修改好的"),e("code",[t._v("DSDT.aml")]),t._v("文件粘贴进去即可")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",[t._v("我的Clover整合了一堆东西，这个文件夹下面还有一个README，里面写着台式机请移除"),e("code",[t._v("SSDT-Disable-DGPU.aml")]),t._v("，需要一并移除了")])]),t._v(" "),e("h2",{attrs:{id:"最后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[t._v("#")]),t._v(" 最后")]),t._v(" "),e("p",[t._v("重启，测试休眠功能正常，大功告成！")])])}),[],!1,null,null,null);a.default=r.exports}}]);